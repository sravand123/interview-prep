---
topic: Git
section: Branching, Merging & History Manipulation
subtopic: git checkout / git switch
level: Intermediate
---

## git checkout / git switch
### Core Concepts

*   **`git checkout`**: Historically used for switching branches, restoring files, and creating new branches. Can be ambiguous due to its multiple roles.
*   **`git switch`**: Introduced to provide a dedicated command specifically for switching branches, improving clarity and reducing the ambiguity of `git checkout`.

### Key Details & Nuances

*   **`git checkout <branch-name>`**: Switches to an existing branch.
*   **`git checkout -b <new-branch-name>`**: Creates a new branch and switches to it in one step.
*   **`git switch <branch-name>`**: Switches to an existing branch.
*   **`git switch -c <new-branch-name>`**: Creates a new branch and switches to it. (`-c` for "create").
*   **`git switch -`**: Switches to the previously checked-out branch. This is a common and useful shortcut.
*   **`git checkout -- <file>`**: Discards changes in a specific file in the working directory, reverting it to the `HEAD` commit. **Danger:** This operation is destructive and cannot be easily undone.
*   **`git switch -- <file>`**: **Does not exist.** `git switch` is *only* for branch operations. This is a key differentiator.
*   **Detached HEAD State:** Both `checkout` and `switch` can move the `HEAD` to a specific commit (not just a branch tip). `git switch` makes this clearer with `git switch --detach <commit-hash>`.

### Practical Examples

**Switching between branches:**

```sh
# Using git checkout (older command)
git checkout main
git checkout feature/new-login

# Using git switch (newer, more explicit command)
git switch main
git switch feature/new-login
```

**Creating and switching to a new branch:**

```sh
# Using git checkout
git checkout -b bugfix/fix-auth

# Using git switch
git switch -c bugfix/fix-auth
```

**Switching to the previous branch:**

```sh
# Works with both checkout and switch
git switch -
```

**Discarding unstaged changes in a file:**

```sh
# This is done with checkout, NOT switch
git checkout -- src/components/Button.tsx
```

### Common Pitfalls & Trade-offs

*   **Ambiguity of `git checkout`:** Using `checkout` for both branch switching and file restoration can lead to mistakes, especially for less experienced users.
*   **Destructive Nature of File Restoration:** `git checkout -- <file>` discards uncommitted local changes. Users must be certain they want to lose these changes.
*   **`git switch` vs. `git restore`:** `git restore` is the modern counterpart to `git checkout -- <file>`. `git switch` and `git restore` were introduced to separate the responsibilities previously held by the overloaded `git checkout`.
*   **Adoption:** While `git switch` is clearer, `git checkout` is still widely used due to its long history. Interviewers might ask about the evolution or preference.

### Interview Questions

1.  **What is the difference between `git checkout <branch>` and `git switch <branch>`?**
    *   **Answer:** `git switch` is a newer, dedicated command for switching branches, designed to be clearer than the multi-purpose `git checkout`. `git checkout` historically handled switching branches, restoring files, and even creating branches (`-b` flag). `git switch` focuses *only* on branch operations.

2.  **How would you create a new branch named `dev` and immediately switch to it?**
    *   **Answer:** Using the newer command: `git switch -c dev`. Alternatively, using the older command: `git checkout -b dev`.

3.  **I have made some uncommitted changes in `index.js` and I want to discard them. How would I do that, and which command should I use?**
    *   **Answer:** You would use `git restore index.js` to discard uncommitted local changes. The older command for this was `git checkout -- index.js`. It's important to note that `git switch` *does not* handle file restoration; it's exclusively for branch operations.

4.  **What does `git switch -` do?**
    *   **Answer:** It switches you to the previously checked-out branch. This is a convenient shortcut for toggling between two branches quickly.