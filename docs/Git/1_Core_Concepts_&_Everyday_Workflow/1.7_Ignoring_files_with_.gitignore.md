---
topic: Git
section: Core Concepts & Everyday Workflow
subtopic: Ignoring files with .gitignore
level: Beginner
---

## Ignoring files with .gitignore
### Core Concepts

*   **Purpose:** `.gitignore` specifies intentionally untracked files that Git should ignore. This prevents cluttering the repository with temporary files, build artifacts, logs, or sensitive credentials.
*   **Mechanism:** Git checks `.gitignore` rules before adding files to the staging area or recognizing them as untracked.
*   **Scope:** Rules are applied hierarchically. A `.gitignore` file in a subdirectory can override or complement rules from parent directories.

### Key Details & Nuances

*   **File Location:**
    *   **Repository Root:** `.gitignore` in the repository root applies globally to the entire repository.
    *   **Subdirectories:** `.gitignore` files in subdirectories affect their own directory and all nested subdirectories.
*   **Rule Matching:**
    *   **Wildcards:** Supports standard glob patterns (`*`, `?`, `[]`).
    *   **Directory Suffix:** A trailing slash (`/`) ensures the pattern matches only directories (e.g., `build/`).
    *   **Negation:** An exclamation mark (`!`) at the beginning of a line negates a pattern, meaning files matching the negated pattern will be tracked (e.g., `!logs/important.log`). This is useful for ignoring a directory but tracking a specific file within it.
    *   **Comments:** Lines starting with `#` are comments.
*   **Order of Precedence:**
    1.  Rules in `.git/info/exclude` (local, not committed).
    2.  Rules in global `.gitignore` file (configured via `git config --global core.excludesfile`).
    3.  `.gitignore` files in the repository (committed).
*   **Already Tracked Files:** `.gitignore` only prevents *untracked* files from being added. If a file is already tracked by Git (i.e., has been committed), adding it to `.gitignore` will *not* stop Git from tracking changes to that file. To stop tracking an already committed file, you must remove it from the index first: `git rm --cached <file>`.

### Practical Examples

*   **Example `.gitignore` file content:**

    ```gitignore
    # Ignore build artifacts and dependencies
    node_modules/
    dist/
    build/

    # Ignore log files
    *.log

    # Ignore temporary files
    *.tmp
    temp/

    # Ignore IDE-specific files
    .vscode/
    .idea/

    # Ignore operating system specific files
    .DS_Store
    Thumbs.db

    # Ignore environment variables
    .env
    !/.env.example # Exception for an example env file

    # Ignore specific build output files but track others
    build/output.js
    build/* # Ignore all files in build except those explicitly included
    !build/output.js # Re-include output.js
    ```

*   **Ignoring a file that was already tracked:**

    ```sh
    # First, stage the file (mistake)
    git add .env

    # Then, add it to .gitignore
    echo ".env" >> .gitignore

    # Remove it from staging and commit
    git rm --cached .env
    git commit -m "Stop tracking .env file"
    ```

### Common Pitfalls & Trade-offs

*   **Committing Sensitive Data:** The most critical pitfall is accidentally committing secrets (API keys, passwords) before they are added to `.gitignore`.
*   **`git rm --cached` Misunderstanding:** Forgetting to use `git rm --cached` for already tracked files means `.gitignore` has no effect on them.
*   **Overly Broad Patterns:** Using patterns like `*` without care can lead to ignoring necessary files. Always be specific.
*   **Global vs. Repository-Specific:** Decide whether a pattern is specific to your project (`.gitignore`) or applies to all your Git projects (`core.excludesfile`).

### Interview Questions

1.  **What is the purpose of `.gitignore` and where should it typically be placed?**
    *   **Answer:** `.gitignore` specifies files and directories that Git should ignore, preventing them from being tracked as part of the repository. It's typically placed at the root of the repository to apply to all files, but can also be placed in subdirectories for more localized ignore rules.

2.  **How do you stop tracking a file that has already been committed to Git, after adding it to `.gitignore`?**
    *   **Answer:** After adding the file path to `.gitignore`, you must remove the file from Git's index (staging area) without deleting the actual file from your working directory. This is done with `git rm --cached <file_path>`. Then, commit this change.

3.  **Can you explain the precedence rules for Git ignore files?**
    *   **Answer:** Git checks ignore rules in the following order: first, local rules in `.git/info/exclude`; second, rules in the global ignore file (configured via `git config --global core.excludesfile`); and finally, `.gitignore` files within the repository itself, with files in deeper subdirectories potentially overriding rules from higher levels.

4.  **How can you ignore all files in a directory except for one specific file?**
    *   **Answer:** You can achieve this by first ignoring the entire directory using a trailing slash (e.g., `logs/`). Then, on a subsequent line, use a negation pattern (`!`) to re-include the specific file (e.g., `!logs/important.log`).

5.  **What happens if a `.gitignore` file is added to a subdirectory? How does it interact with a `.gitignore` in the root directory?**
    *   **Answer:** A `.gitignore` file in a subdirectory applies its rules to that directory and all its descendants. Its rules are merged with those from parent `.gitignore` files. A rule in a subdirectory can override rules from the root. For example, if the root `.gitignore` ignores `data/` and a subdirectory `.gitignore` has `!data/config.json`, then `data/config.json` will be tracked while other files in `data/` remain ignored.